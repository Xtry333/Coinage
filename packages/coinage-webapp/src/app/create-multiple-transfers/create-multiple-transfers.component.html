<main>
    <div class="flex flex-wrap items-center justify-between md:flex-nowrap">
        <h2 class="text-2xl font-bold">Create Multiple Transfer from Items</h2>
    </div>

    <div class="content-container">
        <app-section [header]="'Details'">
            <app-new-transfer-details #newTransferDetails (detailsChanged)="onCommonDetailsChanged($event)"></app-new-transfer-details>
        </app-section>

        <app-section [header]="'Add Items to Transfer'">
            <app-item-details-for-transfer #itemDetailsForTranfer (itemAdded)="onItemAdded($event)"></app-item-details-for-transfer>
        </app-section>

        <app-section [header]="'Selected Items'">
            <app-selected-items
                #selectedItemsList
                [items]="itemsInTransfers"
                [categories]="categories"
                (removeItemClicked)="onItemRemoved($event)"
            ></app-selected-items>
        </app-section>

        <div class="actions-container">
            <div class="button-group">
                <button
                    class="rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    (click)="onClickCreateTransfer()"
                    type="button"
                >
                    Create Transfer
                </button>
                <button
                    class="rounded-md border border-red-300 bg-white px-4 py-2 text-red-700 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500"
                    (click)="onClickClearItemList()"
                    type="button"
                >
                    Clear All
                </button>
            </div>
        </div>

        <div class="json-preview-container">
            <h3>Transfer Preview</h3>
            <textarea
                class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
                [(ngModel)]="transfersJsonData"
                [readonly]="true"
                rows="16"
                aria-label="Transfer Details JSON"
            ></textarea>
        </div>
    </div>
</main>
