<div class="transfer-table-container">
    <table class="transfer-table">
        <caption *ngIf="isHeaderDisplayed">
            {{
                tableHeader
            }}
        </caption>
        <thead>
            <tr>
                <th class="align-left">
                    Category
                    <coinage-app-table-filter
                        *ngIf="showFilters"
                        [filterName]="'category'"
                        (filter)="onFilter($event)"
                        [filterType]="'textBox'"
                        [popupSide]="'toRight'"
                    ></coinage-app-table-filter>
                </th>
                <th>
                    Description
                    <coinage-app-table-filter
                        *ngIf="showFilters"
                        [filterName]="'description'"
                        (filter)="onFilter($event)"
                        [filterType]="'textBox'"
                        [popupSide]="'toRight'"
                    ></coinage-app-table-filter>
                </th>
                <th>
                    Contractor
                    <coinage-app-table-filter
                        *ngIf="showFilters"
                        [filterName]="'contractor'"
                        (filter)="onFilter($event)"
                        [filterType]="'textBox'"
                        [popupSide]="'toLeft'"
                    ></coinage-app-table-filter>
                </th>
                <th class="align-right">
                    Amount
                    <coinage-app-table-filter
                        *ngIf="showFilters"
                        [filterName]="'amount'"
                        (filter)="onFilter($event)"
                        [filterType]="'amountRange'"
                        [popupSide]="'toLeft'"
                    ></coinage-app-table-filter>
                </th>
                <th class="align-right">
                    Date
                    <coinage-app-table-filter
                        *ngIf="showFilters"
                        [filterName]="'date'"
                        (filter)="onFilter($event)"
                        [filterType]="'dateRange'"
                        [popupSide]="'toLeft'"
                    ></coinage-app-table-filter>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let transfer of transfersForTable; trackBy: transferIdTracker">
                <td>{{ transfer.category }}</td>
                <td>
                    <a [routerLink]="['/details', transfer.id]">
                        {{ transfer.description }}
                    </a>
                </td>
                <td>
                    {{ transfer.contractor }}
                </td>
                <td class="currency">{{ transfer.amount | plnCurrency }}</td>
                <td class="align-right">
                    <a [routerLink]="['/summary', transfer.date]">{{ transfer.date | date }}</a>
                </td>
            </tr>
            <tr *ngIf="!noRows" class="sum-row">
                <td colspan="2">Outcomes Sum</td>
                <td>{{ transfersForTable.length }}</td>
                <td class="currency">{{ outcomesSum | plnCurrency }}</td>
                <td></td>
            </tr>
            <tr *ngIf="noRowsFound">
                <td colspan="4">
                    No transfers found.
                    <span *ngIf="isAnyFilterApplied && !noRows"> Please check filters, there are {{ transfers?.length }} unmatched transfers. </span>
                </td>
            </tr>
        </tbody>
    </table>
</div>
