<div class="transfer-items-table-container">
    <table class="transfer-items-table">
        <caption *ngIf="isHeaderDisplayed">
            <span>{{ header }}</span>
        </caption>
        <thead>
            <tr>
                <th class="align-left">
                    <span>Transfer</span>
                </th>
                <th>
                    <span>Contractor</span>
                </th>
                <th class="align-right">
                    <span>Unit Price</span>
                </th>
                <th class="align-right">
                    <span>Quantity</span>
                </th>
                <th class="align-right">
                    <span>Total</span>
                </th>
                <th class="align-right">
                    <span>Account</span>
                </th>
                <th class="align-right">
                    <span>Date</span>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let details of transfersWithItem; trackBy: transferWithItemIdTracker">
                <td>
                    <a [routerLink]="NavigatorPages.TransferDetails(details.transferId)">
                        {{ details.transferName }}
                    </a>
                    <span class="planned-icon" *ngIf="details.receiptId">
                        <a [routerLink]="NavigatorPages.ReceiptDetails(details.receiptId)">
                            <fa-icon [icon]="receiptIcon" [fixedWidth]="true" title="View receipt"></fa-icon>
                        </a>
                    </span>
                </td>
                <td>
                    {{ details.transferContractorName | ifNull: EMPTY_CONTRACTOR }}
                </td>
                <td class="nowrap currency">{{ details.unitPrice | plnCurrency }}</td>
                <td>{{ details.quantity }}</td>
                <td class="nowrap currency">{{ details.unitPrice * details.quantity | plnCurrency }}</td>
                <td>{{ details.accountName }}</td>
                <td class="nowrap align-right">
                    <a [routerLink]="NavigatorPages.SummaryFullDate(details.date)">{{ details.date | date }}</a>
                </td>
            </tr>
            <tr *ngIf="showSummary && !hasAnyRows && outcomesCount > 0" class="sum-row top-border">
                <td colspan="2">Expenses Sum</td>
                <td>{{ outcomesCount }}</td>
                <td class="currency">{{ outcomesSum | plnCurrency }}</td>
                <td colspan="2"></td>
            </tr>
            <tr *ngIf="showSummary && !hasAnyRows && incomesCount > 0" class="sum-row">
                <td colspan="2">Incomes Sum</td>
                <td>{{ incomesCount }}</td>
                <td class="currency">{{ incomesSum | plnCurrency }}</td>
                <td colspan="2"></td>
            </tr>
            <tr *ngIf="!hasAnyRows">
                <td colspan="6">Item has not been registered in any transfer.</td>
            </tr>
        </tbody>
    </table>
</div>
